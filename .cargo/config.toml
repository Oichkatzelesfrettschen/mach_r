# Mach_R Cargo Build Configuration

[build]
# Default to x86_64 target for kernel builds
# target = "x86_64-unknown-none"

[alias]
xtask = "run --package xtask --"

[target.x86_64-unknown-none]
rustflags = [
    "-C", "link-arg=-Tlinkers/x86_64.ld",
    "-C", "link-arg=--nmagic",
    "-C", "relocation-model=static",
    "-D", "warnings",
]

[target.aarch64-unknown-none]
rustflags = [
    "-C", "link-arg=-Tlinkers/aarch64.ld",
    "-C", "link-arg=-nostartfiles",
    "-C", "link-arg=--nmagic",
    "-C", "relocation-model=static",
]

[target.riscv64gc-unknown-none-elf]
rustflags = [
    "-C", "link-arg=-Tlinkers/riscv64.ld",
    "-C", "link-arg=--nmagic",
    "-C", "relocation-model=static",
]
